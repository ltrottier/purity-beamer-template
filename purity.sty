%
% Version 2
% No footline on the title page
%
%
\usetheme{Copenhagen}
\setbeamertemplate{headline}{}

\usepackage[many]{tcolorbox}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usefonttheme{professionalfonts}

\usepackage{parskip}
\setlength{\parskip}{\smallskipamount}

\setlength{\abovedisplayskip}{-15pt}
\setlength{\belowdisplayskip}{0pt}
\setlength{\abovedisplayshortskip}{0pt}
\setlength{\belowdisplayshortskip}{0pt}

% Define colors
% palette 1
\definecolor{mycolor1}{HTML}{025196} % blue
\definecolor{mycolor2}{HTML}{f59e31} % orange
\definecolor{mycolor3}{HTML}{2a787a} % green
\definecolor{mycolor4}{HTML}{b25451} % red

% teal and red
%\definecolor{mycolor1}{HTML}{2a787a} % teal
%\definecolor{mycolor2}{HTML}{7c0c06} % red
%\definecolor{mycolor3}{HTML}{f2703c} % saumon


% Set colors
\setbeamercolor*{structure}{fg=mycolor1, bg=white}
\setbeamercolor*{palette primary}{use=structure, fg=white, bg=structure.fg}
\setbeamercolor*{palette secondary}{use=structure, fg=white, bg=structure.fg!75!black}
\setbeamercolor*{palette tertiary}{use=structure, fg=white, bg=structure.fg!50!black}
\setbeamercolor*{palette quaternary}{fg=black, bg=white}
\setbeamercolor*{item projected}{fg=red, bg=mycolor2}
\setbeamercolor*{block title example}{fg=white, bg=mycolor3}
\setbeamercolor*{block title}{fg=white, bg=mycolor1}

% Itemize items: default (triangle), circle, square, ball
\setbeamertemplate{itemize items}[circle]

% Enumerate items: default, circle, square, ball
\setbeamertemplate{enumerate items}[default]

% Outline: default, sections numbered, subsections numbered, circle, square, ball, ball unnumbered
\setbeamertemplate{sections/subsections in toc}[default]

% General blocks: 
\setbeamertemplate{blocks}[rounded][shadow=true]

% Title page:
\setbeamertemplate{title page}[default][colsep=-4bp, rounded=true]

% Part page:
\setbeamertemplate{part page}[default][colsep=-4bp, rounded=true]

% Navigation symbols:
\setbeamertemplate{navigation symbols}{}

% Headline
% \setbeamertemplate{headline}{}

\makeatletter
\defbeamertemplate*{frametitle}{mydefault}[1][left]{
    
    \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}
    \nointerlineskip
    \@tempdima=\textwidth
    \advance\@tempdima by\beamer@leftmargin
    \advance\@tempdima by\beamer@rightmargin
    
    \begin{tcolorbox}[
        enhanced,
        outer arc=0pt,
        arc=0pt,
        boxrule=0pt,
        top=8pt,
        bottom=8pt,
        enlarge left by=-\beamer@leftmargin,
        enlarge right by=-\beamer@rightmargin,
        width=\paperwidth,
        nobeforeafter,
        frame hidden,
        interior style={
            left color=white,
            right color=white},
        %shadow={0mm}{-0.4mm}{0mm}{black!60, opacity=0.6},    
        %shadow={0mm}{-0.8mm}{0mm}{black!40, opacity=0.4}
        ]
    
        \centering
        \usebeamerfont{frametitle}
        \usebeamercolor[mycolor1]{frametitle}        
        \vbox{}\vskip-1ex
        \if@tempswa\else\csname beamer@fte#1\endcsname\fi
        \insertframetitle\par{
            \ifx\insertframesubtitle
                \@empty
            \else
                {\usebeamerfont{framesubtitle}
                 \usebeamercolor[fg]{framesubtitle}
                 \insertframesubtitle
                 \strut
                 \par
                }
            \fi}
        \vskip-1ex
        \if@tempswa\else\vskip-.3cm\fi
    \end{tcolorbox}
}


\defbeamertemplate*{footline}{mysplit theme}{
    \ifnum \insertpagenumber=1
        \leavevmode
        \hbox{
            \begin{beamercolorbox}[wd=\paperwidth, ht=2.5ex, dp=1.125ex, center]{}
              % empty environment
            \end{beamercolorbox}}
        \vskip0pt
    \else
        \leavevmode
        \hbox{
            \begin{beamercolorbox}[wd=.32\paperwidth, ht=2.5ex, dp=1.125ex]{author in head/foot}
                \flushleft
                \insertsection
            \end{beamercolorbox}
            \begin{beamercolorbox}[wd=.32\paperwidth, ht=2.5ex, dp=1.125ex]{author in head/foot}
                \centering
                \insertsubsection
            \end{beamercolorbox}
    
            \begin{beamercolorbox}[wd=.32\paperwidth, ht=2.5ex, dp=1.125ex]{author in head/foot}
                \flushright
                \insertframenumber/\inserttotalframenumber%\hspace*{0.5em}
            \end{beamercolorbox}
        }
        \vskip0pt
    \fi}

\makeatother

%\AtBeginDocument{
%
%}